{% extends 'admin/dashboard.html.twig' %}
{% block title %}<title>Edit Offer</title>{% endblock %}

{% block body %}
    <h1>Edit Offer</h1>

    {{ include('offer/_form.html.twig', {'button_label': 'Update'}) }}

    {% if edit is defined %}
        <div>
            <label for="products">Choisir les produits</label>
            <select id="products">
                <option value=""> </option>
                {% for product in products %}
                    <option value={{ product.id }}>{{ product.name }}</option>
                {% endfor %}
            </select>
            <button onclick="add({{ offer.id }})">associer</button>
            <button onclick="remove({{ offer.id }})">dissocier</button>
            <label for="productNumber">nombre</label><input type="number" id="productNumber">
        </div>
        <ul id="productList">
            {% for content in offer.products %}
            <li id="productId{{ content.product.id }}">content.product.id</li>
            {% endfor %}
        </ul>
    {% endif %}

    <br>
    <a href="{{ path('offer_index') }}">back to list</a>

    {{ include('offer/_delete_form.html.twig') }}
{% endblock %}
{% block javascripts %}
    <script src="{{ asset('web/js/offer.js') }}"></script>
{{ parent() }}
{% endblock %}